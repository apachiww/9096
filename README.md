# Repo: 9096

使用真实的74系列逻辑芯片搭建一个16位RISC流水机，记录一些想法。名称嘛，暂且就叫⑨０⑨６吧

现在芯片好贵的说，虽然之前已经囤（baipiao）了一大堆74芯片了，装芯片的那个纸盒子已经有一斤重了。这段时间好忙qwq。可能会耗费一两年时间，也可能随时弃坑

## 9096释义

Q：为什么叫9096，而不是9502，Z90或是MC6900呢

A1：**9096是韩团东方神起（TVXQ）的一首歌，收录在专辑《The Secret Code》中，是一个Hidden Track，另有9095 ~~（据说在紫妈诞生的年代，东方吧还是东方神起的天下）~~**

A2：**琪露诺只能数到⑨，所以8+1=9，9+1=9，8=9，8086=9096，Q.E.D.**

A3：Intel 8086作为改变了世界的处理器之一，标志着x86时代的开始，它是16位机，9096也是16位机（强行解释）

![チルノ](images/65019708_p0.jpg)

www.pixiv.net/artworks/65019708 作者：夜兰

## 大概的想法

~~也许就是个大概的目标吧~~

数据总线，ALU以及通用寄存器长16位

ALU使用74181，通过74182超前进位级联。乘除法用软件实现

支持循环移位、逻辑移位、算术移位操作，但是因为桶式移位寄存器工程量太大了，需要使用大量芯片，所以放弃，一次只能移动一位

哈佛结构，指令和数据分开

使用经典LOAD、STORE访存，MOV仅用于寄存器以及立即数传送

16个16位通用寄存器（至少需要32片74373），外加一个SP用于堆栈，一个PC取指令，一个LR保存返回地址，支持子过程调用

一个CPSR，带NZCV位，外加P位用于奇偶校验

指令长度16位或32位（32长度用于立即数）

5级左右的流水，不同阶段之间使用74374连接。视情况加入直通回路

支持优先级中断（也许吧）

简单的多功能计数器/定时器

GPIO以及对应寄存器

串行口（也许吧）

PCB通过蚀刻覆铜板自制，电路板层叠形成立方体，板之间通过PATA硬盘排线或排针排母连接。尽量缩短线路长度

复位后从0x0000开始执行，设计固件，运行固件以后进入主程序

使用一个8051单片机做一个程序烧录器，烧录程序到EEPROM，或使用SRAM代替，在线烧录

再使用一个8051单片机做一个调试工具，包含时钟输出，引脚测量，手动调试功能，带LCD屏显示。~~顺便可以做个超频测试看看9096的极限性能~~

考虑实现一个简单的汇编器

如果汇编实现了，看看能不能用llvm搞个编译器出来（做梦）

## 相关笔记以及文档

笔记见[notes](notes/)

文档见[docs](docs/)